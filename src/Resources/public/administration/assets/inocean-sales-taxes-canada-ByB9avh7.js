const l=`{% block sw_order_line_items_grid_grid_columns_tax_inline_edit %}{% endblock %} {% block sw_order_line_items_grid_grid_columns_tax_content_tooltip %}{% endblock %} {% block sw_order_line_items_grid_grid_columns_tax_content %} <span v-if="item.price && item.price.taxRules.length"> <template v-for="(calculatedTax, index) in sortedCalculatedTaxes" :key="index" > <span class="sw-order-line-items-grid__item_taxes"> {{ $tc('salseTaxCanada.order.summary.tax' + calculatedTax.taxDetails.name, { taxRate: calculatedTax.taxDetails.rate }, 1) }} {{ currencyFilter(calculatedTax.taxDetails.tax, calculatedTax.taxDetails.currencyIsoCode, order.totalRounding.decimals) }} </span> </template> </span> {% endblock %}`,{Component:o}=Shopware;o.override("sw-order-line-items-grid",{template:l,computed:{getLineItemColumns(){const t=[{property:"quantity",dataIndex:"quantity",label:"sw-order.detailBase.columnQuantity",allowResize:!1,align:"right",inlineEdit:!0,width:"90px"},{property:"label",dataIndex:"label",label:"sw-order.detailBase.columnProductName",allowResize:!1,primary:!0,inlineEdit:!0,multiLine:!0},{property:"payload.productNumber",dataIndex:"payload.productNumber",label:"sw-order.detailBase.columnProductNumber",allowResize:!1,align:"left",visible:!1},{property:"unitPrice",dataIndex:"unitPrice",label:this.unitPriceLabel,allowResize:!1,align:"right",inlineEdit:!0,width:"120px"}];return this.taxStatus!=="tax-free"&&t.push({property:"price.taxRules[0]",label:"salseTaxCanada.order.lineItem.tax",allowResize:!1,align:"right",inlineEdit:!1,width:"110px"}),[...t,{property:"totalPrice",dataIndex:"totalPrice",label:this.taxStatus==="gross"?"sw-order.detailBase.columnTotalPriceGross":"sw-order.detailBase.columnTotalPriceNet",allowResize:!1,align:"right",width:"120px"}]},sortedCalculatedTaxes(){if(!this.order||!this.order.lineItems)return[];const t={};this.order.lineItems.forEach(a=>{a.payload&&Array.isArray(a.payload.inoceanCanadaTaxInfo)&&a.payload.inoceanCanadaTaxInfo.forEach(e=>{const r=e.rate;t[r]||(t[r]={taxRate:e.rate,taxName:e.name,taxPriceTotal:0}),t[r].taxPriceTotal+=Number(e.tax)||0})});const i=Object.values(t);return i.sort((a,e)=>a.taxRate-e.taxRate),i.map(a=>({taxDetails:{rate:a.taxRate,tax:a.taxPriceTotal,name:a.taxName,currencyIsoCode:this.order.currency.isoCode}}))}}});const d=`{% block sw_order_detail_general_line_items_summary_amount_without_tax %} <template v-if="taxStatus !== 'tax-free'"> <dt><strong>{{ $tc('salseTaxCanada.order.summary.subtotal') }}</strong></dt> <dd><strong>{{ currencyFilter(order.amountNet, currency.isoCode, order.totalRounding.decimals) }}</strong></dd> </template> {% endblock %} {% block sw_order_detail_general_line_items_summary_taxes %} <template v-if="taxStatus !== 'tax-free'"> <template v-for="(calculatedTax, index) in sortedCalculatedTaxes" :key="index" > <dt> {{ $tc('salseTaxCanada.order.summary.tax' + calculatedTax.taxDetails.name, { taxRate: calculatedTax.taxDetails.rate }, 1) }} </dt> <dd> {{ currencyFilter(calculatedTax.taxDetails.tax, currency.isoCode, order.totalRounding.decimals) }} </dd> </template> <template v-for="(shippingTax, index) in sortedShippingTaxes" :key="index" > <dt> {{ $tc('salseTaxCanada.order.summary.shippingTax' + shippingTax.taxDetails.name, { taxRate: shippingTax.taxDetails.rate }, 1) }} </dt> <dd> {{ currencyFilter(shippingTax.taxDetails.tax, currency.isoCode, order.totalRounding.decimals) }} </dd> </template> </template> {% endblock %} {% block sw_order_detail_general_line_items_summary_amount_total %} <template v-if="taxStatus !== 'tax-free'"> <dt><strong>{{ $tc('salseTaxCanada.order.summary.groundTotal') }}</strong></dt> <dd><strong>{{ currencyFilter(orderTotal, currency.isoCode, order.totalRounding.decimals) }}</strong></dd> <template v-if="displayRounded"> <dt><strong>{{ $tc('salseTaxCanada.order.summary.totalRounded') }}</strong></dt> <dd><strong>{{ currencyFilter(order.price.totalPrice, currency.isoCode, order.totalRounding.decimals) }}</strong></dd> </template> </template> {% endblock %}`,{Component:s}=Shopware;s.override("sw-order-detail-general",{template:d,computed:{taxStatus(){return this.order.price.taxStatus},sortedCalculatedTaxes(){if(!this.order||!this.order.lineItems)return[];const t={};this.order.lineItems.forEach(a=>{a.payload&&Array.isArray(a.payload.inoceanCanadaTaxInfo)&&a.payload.inoceanCanadaTaxInfo.forEach(e=>{const r=e.rate;t[r]||(t[r]={taxRate:e.rate,taxName:e.name,taxPriceTotal:0}),t[r].taxPriceTotal+=Number(e.tax)||0})});const i=Object.values(t);return i.sort((a,e)=>a.taxRate-e.taxRate),i.map(a=>({taxDetails:{rate:a.taxRate,tax:a.taxPriceTotal,name:a.taxName}}))},sortedShippingTaxes(){if(!this.order||!this.order.lineItems)return[];const t={};this.order.lineItems.forEach(a=>{a.payload&&Array.isArray(a.payload.inoceanShippingTaxInfo)&&a.payload.inoceanShippingTaxInfo.forEach(e=>{const r=e.rate;t[r]||(t[r]={taxRate:e.rate,taxName:e.name,taxPriceTotal:0}),t[r].taxPriceTotal+=Number(e.tax)||0})});const i=Object.values(t);return i.sort((a,e)=>a.taxRate-e.taxRate),i.map(a=>({taxDetails:{rate:a.taxRate,tax:a.taxPriceTotal,name:a.taxName}}))}}});
//# sourceMappingURL=inocean-sales-taxes-canada-ByB9avh7.js.map
